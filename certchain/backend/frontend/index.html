<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Certchain</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Dashboard Navigation -->
    <header class="dashboard">
        <div class="dashboard-links">
            <!-- Certchain title linked to index.html -->
            <h1><a href="index.html" class="dashboard-title">Certchain</a></h1>
            <ul class="dashboard-nav">
                <!-- Uni-Connect linked to uni.html -->
                <li><a href="uni.html">Uni-Connect</a></li>
                <!-- Verify linked to verify.html -->
                <li><a href="verify.html">Verify</a></li>
                <!-- Profile linked to the user's profile page -->
                <li><a href="#" id="profile-link">Profile</a></li>
                <!-- Logout Button -->
                <li id="logout-item" style="display: none;">
                    <button id="logout-button">Logout</button>
                </li>
            </ul>
        </div>
        <div class="profile-section">
            <div class="profile-picture">
                <img src="guest-icon.png" alt="Profile" id="profile-image">
            </div>
        </div>
    </header>

    <!-- Welcome Section -->
    <main class="home-container">
        <p class="small-text">Welcome to</p>
        <h1 class="main-title">CERTCHAIN</h1>
        <p class="sub-text">Your trusted platform for verifying education credentials on the blockchain.</p>
        <button onclick="window.location.href='login.html'">Get Started</button>
    </main>

    <script src="app.js"></script>
    <script>
        // Function to get the user ID from localStorage and update the profile link
        function updateProfileLink() {
            const userId = localStorage.getItem('userId'); // Assuming userId is stored in localStorage
            const profileLink = document.getElementById('profile-link');
            const logoutItem = document.getElementById('logout-item');

            if (userId) {
                profileLink.href = `profile.html?userId=${userId}`;
                profileLink.textContent = 'Profile'; 
                logoutItem.style.display = 'block';
                const userImage = localStorage.getItem('userImage') || 'path_to_default_image.jpg'; 
                document.getElementById('profile-image').src = userImage;
            } else {
                profileLink.href = 'login.html'; n
                profileLink.textContent = 'Login'; // Change link text
                document.getElementById('profile-image').src = 'guest-icon.png'; // Default image for guests
                logoutItem.style.display = 'none'; // Hide logout button
            }
        }

        // Logout functionality
        document.getElementById('logout-button').addEventListener('click', () => {
            localStorage.removeItem('userId'); 
            localStorage.removeItem('userImage'); 
            window.location.href = 'login.html'; 
        });

        window.onload = updateProfileLink;
    </script>
</body>
</html>
